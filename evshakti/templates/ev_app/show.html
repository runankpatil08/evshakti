{% extends 'layout.html' %}

{% block title %}
<title>Available EV Two-Wheelers</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@500;700&family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="container py-5">

  <!-- Branding Section -->
  <div class="text-center mb-5">
    <h1 class="fw-bold text-primary" style="font-family: 'Roboto Slab', serif;">⚡ ShivShakti EV</h1>
    <p class="text-muted" style="font-size: 1.1rem;">Your Destination for Eco-Friendly Two-Wheelers</p>
    <hr class="w-50 mx-auto" style="border: 2px solid #0d6efd;">
  </div>

  <h2 class="text-center mb-5 fw-bold" style="font-family: 'Roboto Slab', serif;">Available EV Two-Wheelers</h2>

  {% for vehicle in ev %}
  <div class="row align-items-center mb-5 shadow-lg rounded-4 p-3 animate__animated animate__fadeInUp" style="background: #f8f9fa; border-left: 6px solid #0d6efd;">

    <!-- Left: Image Carousel -->
    <div class="col-md-5 mb-3 mb-md-0">
      {% if vehicle.image1 or vehicle.image2 or vehicle.image3 %}
      <div id="carousel{{ vehicle.id }}" class="carousel slide rounded-3" data-bs-ride="carousel" style="height: 250px; overflow: hidden;">
        <div class="carousel-inner h-100">
          {% if vehicle.image1 %}
          <div class="carousel-item active h-100">
            <img src="{{ vehicle.image1.url }}" class="d-block w-100 h-100 rounded-3" alt="{{ vehicle.model_name }} Image 1" style="object-fit: cover;">
          </div>
          {% endif %}
          {% if vehicle.image2 %}
          <div class="carousel-item {% if not vehicle.image1 %}active{% endif %} h-100">
            <img src="{{ vehicle.image2.url }}" class="d-block w-100 h-100 rounded-3" alt="{{ vehicle.model_name }} Image 2" style="object-fit: cover;">
          </div>
          {% endif %}
          {% if vehicle.image3 %}
          <div class="carousel-item {% if not vehicle.image1 and not vehicle.image2 %}active{% endif %} h-100">
            <img src="{{ vehicle.image3.url }}" class="d-block w-100 h-100 rounded-3" alt="{{ vehicle.model_name }} Image 3" style="object-fit: cover;">
          </div>
          {% endif %}
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carousel{{ vehicle.id }}" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carousel{{ vehicle.id }}" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
      {% else %}
      <div class="text-center p-5 text-muted border rounded-3" style="height: 250px; display: flex; align-items: center; justify-content: center;">No Image Available</div>
      {% endif %}
    </div>

    <!-- Right: Details -->
    <div class="col-md-7">
      <h3 class="text-primary fw-bold" style="font-family: 'Montserrat', sans-serif;">{{ vehicle.model_name }}</h3>
      <p class="text-muted mb-2" style="font-size: 1.1rem;">{{ vehicle.company }}</p>

      <div class="row mb-2">
        <div class="col-sm-6 mb-2">
          <span class="fw-semibold">Battery:</span> {{ vehicle.battery_capacity }} KWh
        </div>
        <div class="col-sm-6 mb-2">
          <span class="fw-semibold">Range:</span> {{ vehicle.range_per_charge }} km
        </div>
        <div class="col-sm-6 mb-2">
          <span class="fw-semibold">Price:</span> ₹{{ vehicle.price }}
        </div>
        <div class="col-sm-6 mb-2">
          <span class="fw-semibold">Color:</span> {{ vehicle.color }}
        </div>
        <div class="col-sm-6 mb-2">
          <span class="fw-semibold">Stock Available:</span> {{ vehicle.stock }}
        </div>
        {% if vehicle.top_speed %}
        <div class="col-sm-6 mb-2">
          <span class="fw-semibold">Top Speed:</span> {{ vehicle.top_speed }} km/h
        </div>
        {% endif %}
        {% if vehicle.charging_time %}
        <div class="col-sm-6 mb-2">
          <span class="fw-semibold">Charging Time:</span> {{ vehicle.charging_time }} hrs
        </div>
        {% endif %}
      </div>

      <div class="mt-3">
        <a class="btn btn-outline-primary btn-sm me-2" href="{% url 'update' vehicle.id %}">Update</a>
        <a class="btn btn-outline-danger btn-sm" href="{% url 'delete' vehicle.id %}">Delete</a>
      </div>
    </div>
  </div>
  {% endfor %}
</div>



<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}
